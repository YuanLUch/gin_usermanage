{"remainingRequest":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\src\\views\\sample\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\src\\views\\sample\\index.vue","mtime":1712628833403},{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1702824123341},{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\babel-loader\\lib\\index.js","mtime":1702824125233},{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1702824123341},{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\vue-loader\\lib\\index.js","mtime":1702824125775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZGF5IGZyb20gJ2RheWpzJw0KaW1wb3J0IHsgdGltZSB9IGZyb20gJ2VjaGFydHMnOw0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnZWxlbWVudC11aScNCmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsNCi8vIGltcG9ydCBTdGF0aXN0aWMgZnJvbSAnZWxlbWVudC11aSc7DQovLyBWdWUudXNlKFN0YXRpc3RpYykNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXBsb2FkVXJsOiAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS91cGxvYWQiLA0KICAgICAgdXBsb2FkVGFza0lEOiAxLA0KICAgICAgc2VsZWN0Um93SWQ6IG51bGwsDQogICAgICBzZWxlY3RUYXNrSWQ6IG51bGwsDQogICAgICBjdXJSb3dJZDogbnVsbCwNCiAgICAgIGFsbFRhc2s6IDEwLA0KICAgICAgY3VsaW5nOiA1LA0KICAgICAgb3V0ZWQ6IDIsDQogICAgICBmaW5pc2hlZDogNywNCiAgICAgIG5ld1NldDogew0KICAgICAgICBmb2xkZXI6ICIiDQogICAgICB9LA0KICAgICAgcXVlcnlQYXJhbTogew0KICAgICAgICBwYWdlc2l6ZTogMTAsDQogICAgICAgIHBhZ2VudW06IDEsDQogICAgICB9LA0KICAgICAgVGFza3F1ZXJ5UGFyYW06IHsNCiAgICAgICAgcGFnZXNpemU6IDEwLA0KICAgICAgICBwYWdlbnVtOiAxLA0KICAgICAgfSwNCiAgICAgIHBhZ2luYXRpb246IHsNCiAgICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICAgIHBhZ2VTaXplT3B0aW9uczogWzUsIDEwLCAyMCwgMzAsIDQwXSwNCiAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgc2hvd1NpemVDaGFuZ2VyOiB0cnVlLA0KICAgICAgICBzaG93VG90YWw6ICh0b3RhbCkgPT4gYOWFsSR7dG90YWx95p2hYCwNCiAgICAgIH0sDQogICAgICBUYXNrcGFnaW5hdGlvbjogew0KICAgICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgICAgcGFnZVNpemVPcHRpb25zOiBbNSwgMTAsIDIwLCAzMCwgNDBdLA0KICAgICAgICBwYWdlU2l6ZTogMTAsDQogICAgICAgIHRvdGFsOiAwLA0KICAgICAgICBzaG93U2l6ZUNoYW5nZXI6IHRydWUsDQogICAgICAgIHNob3dUb3RhbDogKHRvdGFsKSA9PiBg5YWxJHt0b3RhbH3mnaFgLA0KICAgICAgfSwNCiAgICAgIHJvdzogIiIsDQogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGRpYWxvZ1Zpc2libGV4OiBmYWxzZSwNCiAgICAgIGVkaXRBZmZhaXJWaXNpYmxlOiBmYWxzZSwNCg0KICAgICAgbmV3QWZmYWlyOiB7DQogICAgICAgIGFmZmFpck5hbWU6ICIiLA0KICAgICAgICBhZmZhaXJEZXNjOiAiIg0KICAgICAgfSwNCiAgICAgIG5ld0FmZmFpckZvcm06IHsNCiAgICAgICAgYWZmYWlyTmFtZTogIiIsDQogICAgICB9LA0KICAgICAgbmV3VGFzazogew0KICAgICAgICB0YXNrTmFtZTogIiIsDQogICAgICAgIHRhc2tUeXBlOiAiIiwNCiAgICAgICAgdGFza0xvY2FsOiAiIiwNCiAgICAgICAgdGFza1N0YXR1czogIuacquW8gOWniyIsDQogICAgICB9LA0KICAgICAgZGlhbG9nVGl0bGU6ICIiLA0KICAgICAgdGl0bGU6ICIiLA0KICAgICAgdGl0bGV4OiAiIiwNCiAgICAgIGNhc2VTZXQ6IHsNCg0KICAgICAgfSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgdG90YWwxOiAwLA0KICAgICAgc2VhcmNoTW9kZWw6IHsNCiAgICAgICAgcGFnZXNpemU6IDEwLA0KICAgICAgICBwYWdlbnVtOiAxLA0KICAgICAgfSwNCiAgICAgIGFmZmFpckluZm86IHsNCiAgICAgICAgYWZmYWlySWQ6IDAsDQogICAgICAgIGFmZmFpck5hbWU6ICcnDQogICAgICB9LA0KICAgICAgLy8g5Lu75Yqh6ZuG5ZCI5YiX6KGo5pWw5o2uDQogICAgICBzZXRMaXN0OiBbXSwNCiAgICAgIHRhc2tMaXN0OiBbXSwNCiAgICAgIHRhYmxlQ2FzZToge30sDQogICAgICBsaWtlOiB0cnVlLA0KICAgICAgaGVhZGVyczogew0KICAgICAgICB1c2VybmFtZTogJycsDQogICAgICAgIHVzZXJfaWQ6IDANCiAgICAgIH0sDQoNCiAgICB9Ow0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgVG9vbHRpcCwNCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0U2V0TGlzdCgpDQogICAgdGhpcy5nZXRUYXNrTGlzdCgpDQogICAgdGhpcy5nZXRUb2tlbkluZm8oKQ0KICAgIC8vIHRoaXMudXNlcl9pZCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJykNCiAgICAvLyB0aGlzLmhlYWRlcnMgPSB7DQogICAgLy8gICB1c2VybmFtZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSwNCiAgICAvLyAgIHVzZXJfaWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKQ0KICAgIC8vIH0NCiAgICB0aGlzLmdldFRhc2tTdGF0aXN0aWNzKCkNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKHsNCiAgICAgIGdldFJlc0RhdGE6ICdkYXRhL2dldFJlc0RhdGEnLCAgLy8g6I635Y+W5YWo5bGA55qEIHJlc0RhdGENCiAgICAgIGdldFRhc2tEYXRhOiAndGFzay9nZXRUYXNrRGF0YScgIC8vIOiOt+WPluW9k+WJjeS7u+WKoeeahOeUu+WDj+aVsOaNrg0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRUb2tlbkluZm8oKSB7DQogICAgICBjb25zdCB0b2tlbiA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpDQogICAgICB0aGlzLiRodHRwLmdldCgncGFyc2UvdG9rZW4nLCB7DQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLCAvLyDlsIZKV1Tku6TniYzmt7vliqDliLDor7fmsYLlpLTkuK0NCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIC8vIOiuvue9ruivt+axguWktOS4ukpTT07nsbvlnosNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMuaGVhZGVycy51c2VybmFtZSA9IHJlcy5kYXRhLnVzZXJuYW1lDQogICAgICAgIHRoaXMuaGVhZGVycy51c2VyX2lkID0gcmVzLmRhdGEudXNlcl9pZA0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmhlYWRlcnMpDQogICAgICB9KQ0KICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YTonLCBlcnJvcik7IA0KICAgICAgfSk7DQogICAgfSwNCiAgICAvLyDku7vliqHooajmoLzmjpLluo8NCiAgICBjdXN0b21Tb3J0KGNvbHVtbikgew0KICAgICAgY29uc3QgcHJvcCA9IGNvbHVtbi5wcm9wDQogICAgICBjb25zdCBvcmRlciA9IGNvbHVtbi5vcmRlcg0KICAgICAgaWYgKHByb3AgPT09ICd0YXNrU3RhdHVzJykgew0KICAgICAgICB0aGlzLnRhc2tMaXN0LnNvcnQoKGEsIGIpID0+IHsNCiAgICAgICAgICBjb25zdCBzdGF0dXNPcmRlciA9IHsNCiAgICAgICAgICAgICflt7LlrozmiJAnOiAxLA0KICAgICAgICAgICAgJ+ivhOS8sOS4rSc6IDIsDQogICAgICAgICAgICAn5pyq5byA5aeLJzogMw0KICAgICAgICAgIH0NCiAgICAgICAgICBjb25zdCBhT3JkZXIgPSBzdGF0dXNPcmRlclthLnRhc2tTdGF0dXNdDQogICAgICAgICAgY29uc3QgYk9yZGVyID0gc3RhdHVzT3JkZXJbYi50YXNrU3RhdHVzXQ0KICAgICAgICAgIGlmIChvcmRlciA9PT0gJ2Rlc2NlbmRpbmcnKSB7DQogICAgICAgICAgICByZXR1cm4gYk9yZGVyIC0gYU9yZGVyDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBhT3JkZXIgLSBiT3JkZXINCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9IGVsc2UgaWYgKHByb3AgPT09ICdDcmVhdGVkQXQnKSB7DQogICAgICAgIHRoaXMudGFza0xpc3Quc29ydCgoYSwgYikgPT4gew0KICAgICAgICBjb25zdCBhVGltZSA9IERhdGUucGFyc2UoYS5DcmVhdGVkQXQpDQogICAgICAgIGNvbnN0IGJUaW1lID0gRGF0ZS5wYXJzZShiLkNyZWF0ZWRBdCkNCiAgICAgICAgaWYgKG9yZGVyID09PSAnZGVzY2VuZGluZycpIHsNCiAgICAgICAgICByZXR1cm4gYlRpbWUgLSBhVGltZQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiBhVGltZSAtIGJUaW1lDQogICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KDQogICAgaGFuZGxlRmlsZVN1Y2Nlc3MocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICBjb25zb2xlLmxvZygi5paH5Lu25LiK5Lyg5oiQ5YqfIiwgcmVzcG9uc2UpOw0KICAgICAgLy8g5Y+v5Lul5Zyo6L+Z6YeM5aSE55CG5LiK5Lyg5oiQ5Yqf5ZCO55qE6YC76L6R77yM5L6L5aaC5pu05paw55WM6Z2i562JDQogICAgfSwNCiAgICBoYW5kbGVGaWxlRXJyb3IoZXJyKSB7DQogICAgICBjb25zb2xlLmVycm9yKCLmlofku7bkuIrkvKDlpLHotKUiLCBlcnIpOw0KICAgICAgLy8g5Y+v5Lul5Zyo6L+Z6YeM5aSE55CG5LiK5Lyg5aSx6LSl5ZCO55qE6YC76L6R77yM5L6L5aaC5o+Q56S655So5oi36YeN5paw5LiK5Lyg562JDQogICAgfSwNCiAgICBiZWZvcmVVcGxvYWQoZmlsZSkgew0KICAgICAgY29uc29sZS5sb2coIuWHhuWkh+S4iuS8oOaWh+S7tiIsIGZpbGUpOw0KICAgICAgLy8g5Y+v5Lul5Zyo6L+Z6YeM5re75Yqg5LiA5Lqb5LiK5Lyg5paH5Lu25YmN55qE6aqM6K+B6YC76L6R77yM5L6L5aaC5paH5Lu25aSn5bCP44CB57G75Z6L562JDQogICAgICAvLyDov5Tlm54gZmFsc2Ug5Y+v5Lul6Zi75q2i5LiK5LygDQogICAgfSwNCiAgICAvLyDojrflj5bku7vliqHpm4bliJfooagNCiAgICBhc3luYyBnZXRTZXRMaXN0KCkgew0KICAgICAgY29uc3QgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpDQogICAgICAvLyBjb25zb2xlLmxvZygiPT09PT0+IiwgdGhpcy5oZWFkZXJzKQ0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCdhZmZhaXJzJywgew0KICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICBwYWdlX3NpemU6IHRoaXMucXVlcnlQYXJhbS5wYWdlc2l6ZSwNCiAgICAgICAgICBwYWdlX251bTogdGhpcy5xdWVyeVBhcmFtLnBhZ2VudW0sDQogICAgICAgIH0sDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAgLy8g5Zyo6K+35rGC5aS05Lit5pC65bimIHRva2VuDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICAvLyBjb25zb2xlLmxvZygicmVzPT09PiIsIHJlcykNCiAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkNCiAgICAgIH0NCg0KICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpDQogICAgICB0aGlzLnNldExpc3QgPSByZXMuZGF0YQ0KICAgICAgdGhpcy5wYWdpbmF0aW9uLnRvdGFsID0gcmVzLnRvdGFsDQogICAgfSwNCg0KICAgIC8vIOiOt+WPluS7u+WKoembhuS4i+eahOS7u+WKoeWIl+ihqA0KICAgIGFzeW5jIGdldFRhc2tMaXN0KElEKSB7DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYHRhc2svbGlzdC8ke0lEfWAsIHsNCiAgICAgICAgcGFyYW1zOiB7IHBhZ2Vfc2l6ZTogdGhpcy5UYXNrcXVlcnlQYXJhbS5wYWdlc2l6ZSwgcGFnZV9udW06IHRoaXMuVGFza3F1ZXJ5UGFyYW0ucGFnZW51bSB9LA0KICAgICAgfSkNCiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykNCiAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKQ0KICAgICAgdGhpcy50YXNrTGlzdCA9IHJlcy5kYXRhDQogICAgICB0aGlzLlRhc2twYWdpbmF0aW9uLnRvdGFsID0gcmVzLnRvdGFsDQogICAgICAvLyB0aGlzLnBhZ2luYXRpb24udG90YWwgPSByZXMudG90YWwNCiAgICB9LA0KICAgIC8vIOiOt+WPluS7u+WKoeeKtuaAgQ0KICAgIGFzeW5jIGdldFRhc2tTdGF0aXN0aWNzKCkgew0KICAgICAgY29uc3QgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpDQogICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgndGFzay9zdGF0aXN0aWMnLCB7DQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCAvLyDlnKjor7fmsYLlpLTkuK3mkLrluKYgdG9rZW4NCiAgICAgICAgICB9DQogICAgICB9KQ0KICAgICAgLy8gY29uc29sZS5sb2coInRlc3QiKQ0KICAgICAgLy8gY29uc29sZS5sb2cocmVzKQ0KICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpDQogICAgICB0aGlzLmFsbFRhc2sgPSByZXMuZGF0YS50b3RhbENvdW50DQogICAgICB0aGlzLmN1bGluZyA9IHJlcy5kYXRhLmluUHJvZ3Jlc3NDb3VudA0KICAgICAgdGhpcy5vdXRlZCA9IHJlcy5kYXRhLm5vdFN0YXJ0ZWRDb3VudA0KICAgICAgdGhpcy5maW5pc2hlZCA9IHJlcy5kYXRhLmV4cGlyZWRDb3VudA0KICAgIH0sDQoNCiAgICAvLyDlj6rnm7TmjqXmmL7npLrmlofku7bot6/lvoTkuK3nmoTmlofku7blkI0NCiAgICBleHRyYWN0RmlsZU5hbWUocm93KSB7DQogICAgICBjb25zdCBmaXhlZFBhcnQgPSAnRDpcXEdyYWR1YXRpb25Qcm9qZWN0XFxOUFUtRGF0YWJhc2VNaWdyYXRpb25cXGdpbl9HcmFkdWF0aW9uUHJvamVjdFxcd2ViXFwnDQogICAgICBjb25zdCBmaWxlTmFtZSA9IHJvdy50YXNrUGF0aC5zdWJzdHJpbmcoZml4ZWRQYXJ0Lmxlbmd0aCkNCiAgICAgIHJldHVybiBmaWxlTmFtZTsNCiAgICB9LA0KDQogICAgLy8g5L+u5pS55pel5pyf5qC85byPDQogICAgZm9ybWF0ZURhdGUocm93LCBjb2x1bW4pIHsNCiAgICAgIGxldCBkYXRhID0gcm93W2NvbHVtbi5wcm9wZXJ0eV0NCiAgICAgIHJldHVybiBkYXRhID8gZGF5KGRhdGEpLmZvcm1hdCgnWVlZWeW5tE1N5pyIRETml6UgSEg6bW0nKSA6ICfmmoLml6AnDQogICAgfSwNCg0KICAgIC8vIOWIoOmZpOS7u+WKoembhg0KICAgIGRlbGV0ZVNldChpZCkgew0KICAgICAgLy8gY29uc29sZS5sb2coaWQpDQogICAgICB0aGlzLiRjb25maXJtKCfmj5DnpLrvvJror7flho3mrKHnoa7orqQnLCAn56Gu5a6a6KaB5Yig6Zmk6K+l5Lu75Yqh6ZuG5ZCX77yf5LiA5pem5Yig6Zmk77yM5peg5rOV5oGi5aSNJywgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICB9KQ0KICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7DQogICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoYHNldC8ke2lkfWApDQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSkNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpDQogICAgICAgICAgICAgIHRoaXMuZ2V0U2V0TGlzdCgpIC8vIOWIoOmZpOaIkOWKn+WQjuWIt+aWsOeUqOaIt+WIl+ihqA0KICAgICAgICAgICAgICB0aGlzLmdldFRhc2tTdGF0aXN0aWNzKCkNCiAgICAgICAgICAgICAgLy8gdGhpcy5nZXRUYXNrTGlzdCgpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCAn5Yig6Zmk5aSx6LSl77yM6K+36YeN6K+VJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yig6Zmk5aSx6LSl77yM6K+36YeN6K+VJykNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Llj5bmtojliKDpmaQnKQ0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgLy8g5pu05pS55YiG6aG1DQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSA9IHZhbA0KICAgICAgLy8gY29uc29sZS5sb2coYOavj+mhtSAke3ZhbH0g5p2hLCBwYWdlc2l6ZWAsIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSk7DQogICAgICB0aGlzLnF1ZXJ5UGFyYW0ucGFnZXNpemUgPSB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemUNCiAgICAgIHRoaXMuZ2V0U2V0TGlzdCgpDQogICAgICB0aGlzLmdldFRhc2tTdGF0aXN0aWNzKCkNCg0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnaW5hdGlvbi5jdXJyZW50UGFnZSA9IHZhbA0KICAgICAgLy8gY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCwgdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlKTsNCiAgICAgIHRoaXMucXVlcnlQYXJhbS5wYWdlbnVtID0gdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlDQogICAgICB0aGlzLmdldFNldExpc3QoKQ0KICAgICAgdGhpcy5nZXRUYXNrU3RhdGlzdGljcygpDQogICAgfSwNCiAgICAvLyDmm7TmlLnku7vliqHliIbpobUNCiAgICBoYW5kbGVUYXNrU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMuVGFza3BhZ2luYXRpb24ucGFnZVNpemUgPSB2YWwNCiAgICAgIC8vIGNvbnNvbGUubG9nKGDmr4/pobUgJHt2YWx9IOadoSwgcGFnZXNpemVgLCB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemUpOw0KICAgICAgdGhpcy5UYXNrcXVlcnlQYXJhbS5wYWdlc2l6ZSA9IHRoaXMuVGFza3BhZ2luYXRpb24ucGFnZVNpemUNCiAgICAgIHRoaXMuZ2V0VGFza0xpc3QodGhpcy5jdXJSb3dJZCkNCiAgICAgIHRoaXMuZ2V0VGFza1N0YXRpc3RpY3MoKQ0KICAgIH0sDQogICAgaGFuZGxlVGFza0N1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLlRhc2twYWdpbmF0aW9uLmN1cnJlbnRQYWdlID0gdmFsDQogICAgICAvLyBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gLCB0aGlzLnBhZ2luYXRpb24uY3VycmVudFBhZ2UpOw0KICAgICAgdGhpcy5UYXNrcXVlcnlQYXJhbS5wYWdlbnVtID0gdGhpcy5UYXNrcGFnaW5hdGlvbi5jdXJyZW50UGFnZQ0KICAgICAgdGhpcy5nZXRUYXNrTGlzdCh0aGlzLmN1clJvd0lkKQ0KICAgICAgdGhpcy5nZXRUYXNrU3RhdGlzdGljcygpDQogICAgfSwNCiAgICAvL+WIoOmZpOS7u+WKoQ0KICAgIGRlbGV0ZVRhc2soaWQpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGlkKQ0KICAgICAgdGhpcy4kY29uZmlybSgn5o+Q56S677ya6K+35YaN5qyh56Gu6K6kJywgJ+ehruWumuimgeWIoOmZpOivpeS7u+WKoeWQl++8n+S4gOaXpuWIoOmZpO+8jOaXoOazleaBouWkjScsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLA0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4gew0KICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGh0dHAuZGVsZXRlKGB0YXNrLyR7aWR9YCkNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKQ0KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJykNCiAgICAgICAgICAgICAgdGhpcy5nZXRUYXNrTGlzdChpZCkgLy8g5Yig6Zmk5oiQ5Yqf5ZCO5Yi35paw55So5oi35YiX6KGoDQogICAgICAgICAgICAgIHRoaXMuZ2V0VGFza1N0YXRpc3RpY3MoKQ0KICAgICAgICAgICAgICAvLyB0aGlzLmdldFRhc2tMaXN0KCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICfliKDpmaTlpLHotKXvvIzor7fph43or5UnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKXvvIzor7fph43or5UnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+W3suWPlua2iOWIoOmZpCcpDQogICAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvLyDmkJzntKLku7vliqHpm4YNCiAgICBhc3luYyBzZWFyY2hBZmZhaXIoKSB7DQogICAgICBjb25zdCB0b2tlbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykNCiAgICAgIC8vIGNvbnNvbGUubG9nKCLov5vlhaVzZWFyY2hhZmZhaXLlh73mlbAiKQ0KICAgICAgdGhpcy5zZWFyY2hNb2RlbC5wYWdlbnVtID0gMQ0KICAgICAgdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnRQYWdlID0gMQ0KICAgICAgdGhpcy5zZWFyY2hNb2RlbC5wYWdlc2l6ZSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZQ0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCdhZmZhaXIvc2VhcmNoJywgew0KICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICBwYWdlX3NpemU6IHRoaXMuc2VhcmNoTW9kZWwucGFnZXNpemUsDQogICAgICAgICAgcGFnZV9udW06IHRoaXMuc2VhcmNoTW9kZWwucGFnZW51bSwNCiAgICAgICAgICBhZmZhaXJfbmFtZTogdGhpcy5zZWFyY2hNb2RlbC5uYW1lLA0KICAgICAgICAgIC8vIGlkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJykNCiAgICAgICAgfSwNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAgLy8g5Zyo6K+35rGC5aS05Lit5pC65bimIHRva2VuDQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICAgIC8vIGNvbnNvbGUubG9nKCJhYWFh5bey57uP5b6X5Yiw5ZCO56uv6L+U5Zue55qE5pWw5o2u77yaIiwgcmVzKQ0KICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpDQogICAgICB0aGlzLnNldExpc3QgPSByZXMuZGF0YQ0KICAgICAgdGhpcy5wYWdpbmF0aW9uLnRvdGFsID0gcmVzLnRvdGFsDQogICAgfSwNCg0KICAgIC8vIOe8lui+keS7u+WKoembhuWQiA0KICAgIGFzeW5jIGhhbmRsZUVkaXRBZmZhaXIoaWQpIHsNCiAgICAgIHRoaXMuZWRpdEFmZmFpclZpc2libGUgPSB0cnVlDQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYGFmZmFpci8ke2lkfWApDQogICAgICB0aGlzLmFmZmFpckluZm8gPSByZXMuZGF0YQ0KICAgICAgdGhpcy5hZmZhaXJJbmZvLmlkID0gaWQNCiAgICB9LA0KICAgIGVkaXRBZmZhaXIoKSB7DQogICAgICB0aGlzLiRyZWZzLmVkaXRBZmZhaXJSZWYudmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICghdmFsaWQpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCflj4LmlbDkuI3nrKblkIjopoHmsYLvvIzor7fph43mlrDovpPlhaUnKQ0KICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wdXQoYGFmZmFpci8ke3RoaXMuYWZmYWlySW5mby5pZH1gLCB7DQogICAgICAgICAgYWZmYWlyTmFtZTogdGhpcy5hZmZhaXJJbmZvLmFmZmFpck5hbWUNCiAgICAgICAgfSkNCiAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkNCiAgICAgICAgdGhpcy5lZGl0QWZmYWlyVmlzaWJsZSA9IGZhbHNlDQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pu05paw5Lu75Yqh6ZuG5L+h5oGv5oiQ5YqfJykNCiAgICAgICAgdGhpcy5nZXRTZXRMaXN0KCkNCiAgICAgIH0pDQogICAgfSwNCg0KICAgIGp1bXBoYW5kZWxTcWwoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Rlc3QvcmVzdWx0JykNCiAgICB9LA0KICAgIGp1bXBoYW5kZWxEbCgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdGVzdC9yZXBvcnRkbCcpDQogICAgfSwNCg0KICAgIGFzeW5jIGJlZ2luTWF0Y2goaWQpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KGB0YXNrL2luZm8vJHtpZH1gKQ0KICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpDQogICAgICBjb25zb2xlLmxvZygi5Lu75Yqh57G75Z6L5Li6OiIsIHJlcy5kYXRhLnRhc2tUeXBlKQ0KICAgICAgaWYgKHJlcy5kYXRhLnRhc2tUeXBlID09PSAiT3JhY2xlIFNRTOeUu+WDjyJ8fHJlcy5kYXRhLnRhc2tUeXBlID09PSAiTXlTUUwgU1FM55S75YOPIikgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KGBzcWwvZHJhdy8ke2lkfWApDQogICAgICAgICAgIGNvbnNvbGUubG9nKCJnZXQgdGFzazoiLHJlc3BvbnNlKQ0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuiOt+WPlnNxbOeUu+WDj+WIhuaekOe7k+aenOWksei0pToiLCBlcnJvcikNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgZWxzZXsNCiAgICAgICAgdHJ5ew0KICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYHNxbC9hZGFwdC8ke2lkfWApDQogICAgICAgICAgY29uc29sZS5sb2coIk9yYWNsZemAgumFjeeahOWTjeW6lCIscmVzcG9uc2UpDQogICAgICAgIH1jYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCLojrflj5ZzcWzpgILphY3liIbmnpDnu5PmnpzlpLHotKU6IiwgZXJyb3IpDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICB9DQogICAgfSwNCg0KICAgIGFzeW5jIGp1bXBoYW5kZWxNYXRjaChpZCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYHRhc2svaW5mby8ke2lkfWApDQogICAgICBjb25zb2xlLmxvZygi5Lu75Yqh54q25oCB5Li677yaIiwgcmVzLmRhdGEpDQogICAgICAvLyBjb25zdCB0YXNrRGF0YSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Rhc2svZ2V0VGFza0RhdGEnXShpZCkNCiAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKCcvdGVzdC9tYXRjaCcpDQogICAgICBpZihyZXMuZGF0YS50YXNrVHlwZT09Ik9yYWNsZSBTUUznlLvlg48ifHxyZXMuZGF0YS50YXNrVHlwZT09Ik15U1FMIFNRTOeUu+WDjyIpew0KICAgICAgICAgIGlmIChyZXMuZGF0YS50YXNrU3RhdHVzID09PSAn5bey5a6M5oiQJykgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdyZXN1bHQnLCBwYXJhbXM6IHt0YXNrSWQ6IGlkLHRhc2tUeXBlOnJlcy5kYXRhLnRhc2tUeXBlfX0pDQogICAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS50YXNrU3RhdHVzID09PSAn5pyq5byA5aeLJykgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S7u+WKoeacquW8gOWni++8jOS4jeWPr+i3s+i9rOafpeeci+e7k+aenCcpDQogICAgICAgICAgfQ0KICAgICAgfWVsc2V7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLnRhc2tTdGF0dXMgPT09ICflt7LlrozmiJAnKSB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ21hdGNoJywgcGFyYW1zOiB7dGFza0lkOiBpZH19KQ0KICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEudGFza1N0YXR1cyA9PT0gJ+acquW8gOWniycpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfku7vliqHmnKrlvIDlp4vvvIzkuI3lj6/ot7Povazmn6XnnIvnu5PmnpwnKQ0KICAgICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgLy8g6I635Y+W5b2T5YmN5Lu75Yqh55qE5Lu75Yqh5pWw5o2uDQogICAgICBjb25zdCB0YXNrRGF0YSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Rhc2svZ2V0VGFza0RhdGEnXShpZCkNCiAgICAgIGNvbnNvbGUubG9nKCJ0ZXN0Iix0YXNrRGF0YSkNCiAgICAgIC8vIGlmICghdGFza0RhdGEpIHsNCiAgICAgIGlmICgxKSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYHRhc2svcmVzdWx0LyR7aWR9YCkNCiAgICAgICAgY29uc3QgcmVzdWx0RGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YS50YXNrUmVzdWx0KQ0KICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGFzay9zZXRUYXNrRGF0YScsIHsgdGFza0lkOiBpZCwgZGF0YTogcmVzdWx0RGF0YX0pDQogICAgICB9DQogICAgfSwNCiAgICAvLyBuZXdUYXNrKCkgew0KICAgIC8vICAgdGhpcy4kcm91dGVyLnB1c2goIi90ZXN0L3Rhc2siKTsNCiAgICAvLyB9LA0KICAgIC8vIG9wZW5GaWxlKCkgew0KICAgIC8vICAgdGhpcy4kcmVmcy5mb2xkZXJJbnB1dC5jbGljaygpOw0KICAgIC8vIH0sDQogICAgLy8gY2hhbmdlRmlsZShlKSB7DQogICAgLy8gICAvLyBjb25zdCBmb2xkZXJQYXRoID0gZS50YXJnZXQuZmlsZXNbMF0ucGF0aDsgLy8g6I635Y+W6YCJ5oup55qE5paH5Lu25aS56Lev5b6EDQogICAgLy8gICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF0NCiAgICAvLyAgIGNvbnNvbGUubG9nKCLmi7/liLDnmoTmlofku7bkuLrvvJoiLCBmaWxlKQ0KICAgIC8vICAgdGhpcy5uZXdUYXNrLnRhc2tMb2NhbCA9IGZpbGUNCiAgICAvLyAgIC8vIHRoaXMubmV3U2V0LmZvbGRlciA9IGZvbGRlclBhdGg7IC8vIOWwhui3r+W+hOe7keWumuWIsOaVsOaNruWvueixoeS4reeahOWxnuaApw0KICAgIC8vIH0sDQogICAgZ2V0Q2FzZXNCeUlkKGlkKSB7DQogICAgICB0aGlzLmdldENhc2VMaXN0KGlkKTsNCiAgICB9LA0KICAgIGFkZENhc2UoKSB7DQogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gIua3u+WKoOS7u+WKoSI7DQogICAgfSwNCiAgICBoYW5kbGVBZGQoKSB7DQogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gIua3u+WKoOS4muWKoeWQiCI7DQogICAgICB0aGlzLmNhc2VTZXQgPSB7DQogICAgICAgIGlkOiAiIiwNCiAgICAgICAgbmFtZTogIiIsDQogICAgICAgIHBhdGg6ICIiLA0KICAgICAgICBjYXNlczogW10sDQogICAgICB9Ow0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIGhhbmRsZUFkZFRhc2soaWQpIHsNCiAgICAgIHRoaXMuZGlhbG9nVGl0bGV4ID0gIua3u+WKoOS7u+WKoSI7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGV4ID0gdHJ1ZTsNCiAgICAgIHRoaXMuc2VsZWN0Um93SWQgPSBpZDsNCiAgICB9LA0KICAgIGhhbmRsZUVkaXRUYXNrKGlkLCBhZmZhaXJpZCkgew0KICAgICAgdGhpcy50aXRsZSA9ICLkv67mlLnku7vliqEiOw0KICAgICAgLy8gY29uc29sZS5sb2coIuS/ruaUueS7u+WKoSIpDQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdFJvd0lkKQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3RUYXNrSWQpDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGV4ID0gdHJ1ZTsNCiAgICAgIHRoaXMuc2VsZWN0Um93SWQgPSBhZmZhaXJpZDsNCiAgICAgIHRoaXMuc2VsZWN0VGFza0lkID0gaWQNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0Um93SWQpDQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdFRhc2tJZCkNCiAgICB9LA0KDQogICAgLy8g5Lia5Yqh5ZCI6KGo5qC86KGM54K55Ye75LqL5Lu25aSE55CG5Ye95pWwDQogICAgaGFuZGxlVmlldyhyb3cpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKCLmo4DmtYvmiafooYxoYW5kbGV2aWV3IikNCiAgICAgIC8vIGNvbnNvbGUubG9nKHJvdy5JRCkNCiAgICAgIHRoaXMuY3VyUm93SWQgPSByb3cuSUQNCiAgICAgIHRoaXMuZ2V0VGFza0xpc3Qocm93LklEKQ0KICAgICAgdGhpcy5nZXRUYXNrU3RhdGlzdGljcygpDQogICAgfSwNCiAgICAvLyDpgInmi6nmlofku7blpLnmjInpkq7ngrnlh7vkuovku7blpITnkIblh73mlbANCiAgICBoYW5kbGVTZWxlY3RGb2xkZXIoKSB7DQogICAgICBjb25zdCBmdSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcGVuIik7DQogICAgICBpZiAoZnUgPT0gbnVsbCkgcmV0dXJuOw0KICAgICAgdGhpcy50ZXh0YXJlYSA9IGZ1LmZpbGVzWzBdLm5hbWU7DQogICAgICAvLyBjb25zb2xlLmxvZyhmdS5maWxlc1swXS5uYW1lKTsNCiAgICB9LA0KDQogICAgLy8g5YWz6Zet5re75YqgL+e8lui+keS4muWKoeWQiOWvueivneahhuWJjeeahOmSqeWtkOWHveaVsA0KICAgIGhhbmRsZUNsb3NlRGlhbG9nKGRvbmUpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOWFs+mXre+8nyIpDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLnNlbGVjdFJvd0lkID0gbnVsbA0KICAgICAgICAgIHRoaXMuc2VsZWN0VGFza0lkID0gbnVsbA0KICAgICAgICAgIGRvbmUoKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7DQogICAgfSwNCg0KICAgIC8vIOehruWumua3u+WKoC/nvJbovpHku7vliqHpm4blkIjlr7nor53moYbmjInpkq7ngrnlh7vkuovku7blpITnkIblh73mlbANCiAgICBhZGRBZmZhaXIoKSB7DQogICAgICB0aGlzLiRyZWZzLmFkZEFmZmFpclJlZi52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsNCiAgICAgICAgY29uc3QgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpDQogICAgICAgIGlmICghdmFsaWQpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCflj4LmlbDkuI3nrKblkIjopoHmsYLvvIzor7fph43mlrDovpPlhaUnKQ0KICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdhZmZhaXIvYWRkJywgew0KICAgICAgICAgIGFmZmFpck5hbWU6IHRoaXMubmV3QWZmYWlyLmFmZmFpck5hbWUsDQogICAgICAgICAgYWZmYWlyRGVzYzogdGhpcy5uZXdBZmZhaXIuYWZmYWlyRGVzYywNCiAgICAgICAgICAvLyB1c2VySWQ6IHBhcnNlSW50KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKSwgMTApDQogICAgICAgIH0sIHsNCiAgICAgICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gIC8vIOWcqOivt+axguWktOS4reaQuuW4piB0b2tlbg0KICAgICAgICB9fSkNCiAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkNCiAgICAgICAgdGhpcy4kcmVmcy5hZGRBZmZhaXJSZWYucmVzZXRGaWVsZHMoKQ0KICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpDQogICAgICAgIHRoaXMuZ2V0U2V0TGlzdCgpDQogICAgICAgIHRoaXMuZ2V0VGFza1N0YXRpc3RpY3MoKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v5re75Yqg5Lu75YqhDQogICAgYWRkVGFzaygpIHsNCiAgICAgIC8vIHRoaXMuJHJlZnMudXBsb2FkLnN1Ym1pdCgpOw0KICAgICAgdGhpcy4kcmVmcy5uZXdUYXNrUmVmLnZhbGlkYXRlKGFzeW5jICh2YWxpZCkgPT4gew0KICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5Y+C5pWw5LiN56ym5ZCI6KaB5rGC77yM6K+36YeN5paw6L6T5YWlJykNCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0VGFza0lkID09IG51bGwpIHsNCiAgICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCd0YXNrL2FkZCcsIHsNCiAgICAgICAgICAgIEFmZmFpcklkOiB0aGlzLnNlbGVjdFJvd0lkLA0KICAgICAgICAgICAgVGFza05hbWU6IHRoaXMubmV3VGFzay50YXNrTmFtZSwNCiAgICAgICAgICAgIFRhc2tQYXRoOiB0aGlzLm5ld1Rhc2sudGFza0xvY2FsLA0KICAgICAgICAgICAgVGFza1R5cGU6IHRoaXMubmV3VGFzay50YXNrVHlwZSwNCiAgICAgICAgICAgIFRhc2tTdGF0dXM6IHRoaXMubmV3VGFzay50YXNrU3RhdHVzLA0KICAgICAgICAgIH0pDQogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLnVwbG9hZFRhc2tJRCA9IHJlcy5kYXRhLklEDQogICAgICAgICAgY29uc29sZS5sb2coIuS4iuS8oOS7u+WKoUlE5Li677yaIiwgdGhpcy51cGxvYWRUYXNrSUQpDQogICAgICAgICAgYXdhaXQgdGhpcy4kbmV4dFRpY2soKQ0KICAgICAgICAgIHRoaXMuJHJlZnMudXBsb2FkLnN1Ym1pdCgpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgIC8vIGlmIChyZXMuc3RhdHVzICE9IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpDQogICAgICAgICAgLy8gdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIC8vICAgaWYgKHRoaXMuJHJlZnMubmV3VGFza1JlZikgew0KICAgICAgICAgIC8vICAgICB0aGlzLiRyZWZzLm5ld1Rhc2tSZWYucmVzZXRGaWVsZHMoKTsNCiAgICAgICAgICAvLyAgIH0NCiAgICAgICAgICAvLyB9KTsNCiAgICAgICAgICAvLyB0aGlzLiRyZWZzLnVwbG9hZC5zdWJtaXQoKQ0KICAgICAgICAgIHRoaXMuJHJlZnMubmV3VGFza1JlZi5yZXNldEZpZWxkcygpOw0KICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZXggPSBmYWxzZQ0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5oiQ5YqfJykNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdFJvd0lkKQ0KICAgICAgICAgIHRoaXMuZ2V0VGFza0xpc3QodGhpcy5zZWxlY3RSb3dJZCkNCiAgICAgICAgICB0aGlzLmdldFRhc2tTdGF0aXN0aWNzKCkNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuc2VsZWN0VGFza0lkDQogICAgICAgICAgdGhpcy5zZWxlY3RUYXNrSWQgPSBudWxsDQogICAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KGB0YXNrLyR7aWR9YCwgew0KICAgICAgICAgICAgQWZmYWlySWQ6IHRoaXMuc2VsZWN0Um93SWQsDQogICAgICAgICAgICBUYXNrTmFtZTogdGhpcy5uZXdUYXNrLnRhc2tOYW1lLA0KICAgICAgICAgICAgLy8gVGFza1BhdGg6IHRoaXMubmV3VGFzay50YXNrTG9jYWwsDQogICAgICAgICAgICBUYXNrVHlwZTogdGhpcy5uZXdUYXNrLnRhc2tUeXBlLA0KICAgICAgICAgICAgVGFza1N0YXR1czogdGhpcy5uZXdUYXNrLnRhc2tTdGF0dXMsDQogICAgICAgICAgfSkNCg0KICAgICAgICAgIGNvbnNvbGUubG9nKCLkv67mlLnku7vliqEiLCB0aGlzLiRyZWZzLnVwbG9hZC51cGxvYWRGaWxlcy5sZW5ndGgpDQogICAgICAgICAgaWYgKHRoaXMuJHJlZnMudXBsb2FkLnVwbG9hZEZpbGVzLmxlbmd0aCA9PT0gMSkgew0KICAgICAgICAgICAgdGhpcy51cGxvYWRUYXNrSUQgPSBpZA0KICAgICAgICAgICAgY29uc29sZS5sb2coImJmZGpzauS4iuS8oOS7u+WKoUlE5Li677yaIiwgdGhpcy51cGxvYWRUYXNrSUQpDQogICAgICAgICAgICBhd2FpdCB0aGlzLiRuZXh0VGljaygpDQogICAgICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZC5zdWJtaXQoKQ0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyBpZiAocmVzLnN0YXR1cyAhPSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKQ0KICAgICAgICAgIC8vIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAvLyAgIGlmICh0aGlzLiRyZWZzLm5ld1Rhc2tSZWYpIHsNCg0KICAgICAgICAgIC8vICAgfQ0KICAgICAgICAgIC8vIH0pOw0KICAgICAgICAgIHRoaXMuJHJlZnMubmV3VGFza1JlZi5yZXNldEZpZWxkcygpOw0KICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZXggPSBmYWxzZQ0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5YqfJykNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdFJvd0lkKQ0KICAgICAgICAgIHRoaXMuZ2V0VGFza0xpc3QodGhpcy5zZWxlY3RSb3dJZCkNCiAgICAgICAgICB0aGlzLmdldFRhc2tTdGF0aXN0aWNzKCkNCiAgICAgICAgICB0aGlzLnNlbGVjdFJvd0lkID0gbnVsbA0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgYXN5bmMgZG93bmxvYWRSZXN1bHQoaWQpIHsNCiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvZG93bmxvYWQvJHtpZH1gDQogICAgIC8vIOiwg+eUqOaOpeWPo+iOt+WPluaKpeWRiuaVsOaNrg0KICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldChgL2Rvd25sb2FkLyR7aWR9YCk7DQoNCiAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9PSAyMDApIHsNCiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubWVzc2FnZSkNCiAgICB9IGVsc2Ugew0KICAgIGNvbnN0IHRhc2tSZXN1bHQgPSBKU09OLnBhcnNlKHJlcy5kYXRhLnRhc2tSZXN1bHQpDQogICAgICAvLyDkvb/nlKjojrflj5bliLDnmoTmlbDmja7liqjmgIHnlJ/miJAgSFRNTCDlhoXlrrkNCiAgICBjb25zdCBodG1sQ29udGVudCA9IGANCiAgICA8aHRtbD4NCiAgICAgIDxoZWFkPg0KICAgICAgICA8dGl0bGU+JHtyZXMuZGF0YS50YXNrTmFtZX08L3RpdGxlPg0KICAgICAgPC9oZWFkPg0KICAgIDxib2R5Pg0KICAgICAgPGgxPiR7cmVzLmRhdGEudGFza1R5cGV9PC9oMT4NCiAgICAgIDxwPiR7SlNPTi5zdHJpbmdpZnkodGFza1Jlc3VsdC5ETUxEZXRhaWwpfTwvcD4NCiAgICA8L2JvZHk+DQogICAgPC9odG1sPg0KICAgIGA7DQoNCiAgICAvLyDliJvlu7ogYmxvYiDlr7nosaHvvIzlubbkuLrlhbborr7nva4gTUlNRSDnsbvlnovkuLogJ3RleHQvaHRtbCcNCiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2h0bWxDb250ZW50XSwgeyB0eXBlOiAndGV4dC9odG1sJyB9KTsNCiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOw0KDQogICAgLy8g5Yib5bu65LiA5Liq5Li05pe255qEIGEg5qCH562+55So5LqO5LiL6L29DQogICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsNCiAgICBsaW5rLmhyZWYgPSB1cmw7DQogICAgbGluay5kb3dubG9hZCA9ICdyZXBvcnQuaHRtbCc7IC8vIOaMh+WumuS4i+i9veeahOaWh+S7tuWQjQ0KICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7IC8vIOWwhiBhIOagh+etvua3u+WKoOWIsOmhtemdouS4rQ0KICAgIGxpbmsuY2xpY2soKTsgLy8g5qih5ouf54K55Ye7IGEg5qCH562+DQogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsgLy8g56e76ZmkIGEg5qCH562+DQogICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOyAvLyDph4rmlL4gVVJMIOWvueixoQ0KICAgIH0NCiAgICB9LA0KICB9LA0KDQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/sample","sourcesContent":["<template>\r\n  <div class=\"case-set-management\">\r\n    <div>\r\n      <!-- 搜索栏 -->\r\n      <el-card id=\"search\">\r\n        <el-row>\r\n          <el-col :span=\"6\">\r\n            <el-input v-model=\"searchModel.name\" placeholder=\"任务集名\" clearable></el-input>\r\n            <el-button type=\"primary\" round icon=\"el-icon-search\" @click=\"searchAffair\">查询</el-button>\r\n          </el-col>\r\n          <!-- 分页组件 -->\r\n\r\n          <!-- <el-pagination :current-page=\"searchModel.pageNo\" :page-sizes=\"[5, 10, 20, 50]\" :page-size=\"searchModel.pageSize\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\" :small=\"true\" >\r\n            </el-pagination> -->\r\n          <el-col :span=\"10\" align=\"right\">\r\n            <template>\r\n              <div>\r\n                <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                  :current-page=\"pagination.currentPage\" :page-sizes=\"pagination.pageSizeOptions\"\r\n                  :page-size=\"pagination.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n                  :total=\"pagination.total\">\r\n                </el-pagination>\r\n              </div>\r\n            </template>\r\n          </el-col>\r\n          <el-col :span=\"6\" align=\"right\">\r\n            <el-button type=\"primary\" icon=\"el-icon-plus\" circle @click=\"handleAdd(null)\"></el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </el-card>\r\n\r\n      <!-- 任务集表格 -->\r\n      <el-card>\r\n        <!-- <el-table :data=\"setList\" stripe style=\"width: 100%\" :row-style=\"{ cursor: 'pointer' }\" @row-click=\"handleView\"> -->\r\n        <el-table :data=\"setList\" stripe style=\"width: 100%\" :row-style=\"{ cursor: 'pointer' }\"\r\n          @expand-change=\"handleView\">\r\n          <el-table-column type=\"expand\" @row-click=\"handleView\">\r\n            <template slot-scope=\"props\">\r\n              <!-- <el-table :data=\"caseSet\" stripe style=\"width: 80%\"> -->\r\n              <el-table :data=\"taskList\" :default-sort=\"{prop: 'CreatedAt', order: 'descending'}\" @sort-change=\"customSort\">\r\n                <el-table-column v-if=\"false\" prop=\"ID\" label=\"任务ID\"> </el-table-column>\r\n                <el-table-column prop=\"taskName\" label=\"任务名称\"></el-table-column>\r\n                <el-table-column prop=\"taskPath\" label=\"任务路径\">\r\n                  <template slot-scope=\"scope\">\r\n                      <tooltip effect=\"dark\" :content=\"scope.row.taskPath\" placement=\"top\">\r\n                      <span>{{ extractFileName(scope.row) }}</span>\r\n                      </tooltip>\r\n                 </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"sqlLength\" label=\"SQL条数\" width=\"80\">\r\n                  <template slot-scope=\"scope\">\r\n                      <div style=\"text-align: center;\">{{ scope.row.sqlLength }}</div>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"taskType\" label=\"任务类型\"></el-table-column>\r\n                <el-table-column prop=\"taskStatus\" label=\"任务状态\" sortable=\"custom\"></el-table-column>\r\n                <el-table-column v-if=\"false\" prop=\"affairId\" label=\"业务ID\"> </el-table-column>\r\n                <el-table-column prop=\"CreatedAt\" label=\"创建时间\" :formatter=\"formateDate\" sortable=\"custom\"></el-table-column>\r\n                <el-table-column prop=\"UpdatedAt\" label=\"修改时间\" :formatter=\"formateDate\"></el-table-column>\r\n                <el-table-column prop=\"startTime\" label=\"开始时间\" :formatter=\"formateDate\"></el-table-column>\r\n                <el-table-column prop=\"endTime\" label=\"结束时间\" :formatter=\"formateDate\"></el-table-column>\r\n                <el-table-column label=\"操作\">\r\n                  <template slot-scope=\"scope\">\r\n                    <div class=\"button-row\">\r\n                      <el-tooltip class=\"item\" effect=\"dark\" content=\"开始\" placement=\"top\">\r\n                        <el-button type=\"primary\" class=\"start\" circle size=\"mini\" icon=\"el-icon-video-play\"\r\n                        @click=\"beginMatch(scope.row.ID)\"></el-button>\r\n                      </el-tooltip>\r\n                      <el-tooltip class=\"item\" effect=\"dark\" content=\"暂停\" placement=\"top\">\r\n                        <el-button type=\"primary\" circle size=\"mini\" icon=\"el-icon-video-pause\"></el-button>\r\n                      </el-tooltip>\r\n                    </div>\r\n                    <div class=\"button-row\">\r\n                      <el-tooltip class=\"item\" effect=\"dark\" content=\"编辑\" placement=\"top\">\r\n                        <el-button type=\"primary\" circle size=\"mini\" icon=\"el-icon-edit\"\r\n                          @click=\"handleEditTask(scope.row.ID, scope.row.affairId)\"></el-button>\r\n                        <!-- <el-button type=\"primary\" circle size=\"mini\" icon=\"el-icon-download\"></el-button> -->\r\n                      </el-tooltip>\r\n                      <el-tooltip class=\"item\" effect=\"dark\" content=\"SQL画像/语法匹配\" placement=\"bottom\">\r\n                        <el-button type=\"primary\" circle size=\"mini\" icon=\"el-icon-s-opportunity\"\r\n                          @click=\"jumphandelMatch(scope.row.ID)\">\r\n                        </el-button>\r\n                      </el-tooltip>\r\n                    </div>\r\n                    <div class=\"button-row\">\r\n                      <el-tooltip class=\"item\" effect=\"dark\" content=\"报告下载\" placement=\"bottom\">\r\n                        <el-button type=\"primary\" circle size=\"mini\" icon=\"el-icon-download\"\r\n                          @click=\"downloadResult(scope.row.ID)\">\r\n                        </el-button>\r\n                      </el-tooltip>\r\n                      <el-tooltip class=\"item\" effect=\"dark\" content=\"删除任务\" placement=\"bottom\">\r\n                        <el-button type=\"danger\" circle size=\"mini\" icon=\"el-icon-delete\"\r\n                          @click=\"deleteTask(scope.row.ID)\">\r\n                        </el-button>\r\n                      </el-tooltip>\r\n                    </div>\r\n\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n              <!-- 该任务分页栏 -->\r\n              <template>\r\n                <div>\r\n                  <el-pagination @size-change=\"handleTaskSizeChange\" @current-change=\"handleTaskCurrentChange\"\r\n                    :current-page=\"Taskpagination.currentPage\" :page-sizes=\"Taskpagination.pageSizeOptions\"\r\n                    :page-size=\"Taskpagination.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"Taskpagination.total\">\r\n                  </el-pagination>\r\n                </div>\r\n              </template>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"false\" prop=\"ID\" label=\"任务集ID\" width=\"120\"></el-table-column>\r\n          <el-table-column prop=\"affairName\" label=\"任务集名称\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"CreatedAt\" label=\"创建时间\" :formatter=\"formateDate\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"UpdatedAt\" label=\"修改时间\" :formatter=\"formateDate\" width=\"200\"></el-table-column>\r\n          <el-table-column label=\"操作\" width=\"400\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"新建任务\" placement=\"top\">\r\n                <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" circle\r\n                  @click=\"handleAddTask(scope.row.ID)\"></el-button></el-tooltip>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"编辑任务集\" placement=\"top\">\r\n                <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"small\" circle\r\n                  @click=\"handleEditAffair(scope.row.ID)\"></el-button></el-tooltip>\r\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"删除任务集\" placement=\"top\">\r\n                <el-button type=\"danger\" circle size=\"small\" icon=\"el-icon-delete\" @click=\"deleteSet(scope.row.ID)\">\r\n                </el-button></el-tooltip>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 新增任务集 -->\r\n        <el-dialog :visible.sync=\"dialogVisible\" title=\"新增任务集\" :before-close=\"handleCloseDialog\" width=\"60%\" center\r\n          :destroy-on-close=\"true\">\r\n          <el-form ref=\"addAffairRef\" :model=\"newAffair\" label-width=\"120px\">\r\n            <!-- <el-form-item label=\"任务集ID\" prop=\"id\">\r\n              <el-input v-model=\"newSet.id\"></el-input></el-form-item> -->\r\n            <el-form-item label=\"任务集名称\" prop=\"affairName\">\r\n              <el-input v-model=\"newAffair.affairName\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"任务集描述\" prop=\"affairDesc\">\r\n              <el-input v-model=\"newAffair.affairDesc\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false; selectRowId = null; selectTaskId = null\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"addAffair\">确 定</el-button>\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 编辑任务集 -->\r\n        <el-dialog :visible.sync=\"editAffairVisible\" :title=\"title\" :before-close=\"handleCloseDialog\" width=\"60%\" center\r\n          :destroy-on-close=\"true\">\r\n          <el-form ref=\"editAffairRef\" :model=\"affairInfo\" label-width=\"120px\">\r\n            <!-- <el-form-item label=\"任务集ID\" prop=\"id\">\r\n              <el-input v-model=\"newSet.id\"></el-input></el-form-item> -->\r\n            <el-form-item label=\"任务集名称\" prop=\"affairName\">\r\n              <el-input v-model=\"affairInfo.affairName\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"editAffairVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"editAffair\">确 定</el-button>\r\n          </div>\r\n        </el-dialog>\r\n\r\n        <!-- 添加/编辑任务对话框 -->\r\n        <el-dialog :visible.sync=\"dialogVisiblex\" :title=\"titlex\" :before-close=\"handleCloseDialog\" width=\"60%\" center\r\n          :destroy-on-close=\"true\">\r\n          <el-form ref=\"newTaskRef\" :model=\"newTask\" label-width=\"120px\" enctype=\"multipart/form-data\">\r\n            <!-- <el-form-item label=\"任务ID\" prop=\"id\">\r\n              <el-input v-model=\"newCaseForm.id\"></el-input></el-form-item> -->\r\n            <el-form-item label=\"任务名称\">\r\n              <el-input v-model=\"newTask.taskName\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"任务类型\">\r\n              <el-select v-model=\"newTask.taskType\" placeholder=\"请选择任务类型\">\r\n                <el-option label=\"MySQL SQL画像\" value=\"MySQL SQL画像\"></el-option>\r\n                <el-option label=\"Oracle SQL画像\" value=\"Oracle SQL画像\"></el-option>\r\n                <el-option label=\"MySQL适配\" value=\"MySQL适配\"></el-option>\r\n                <el-option label=\"Oracle适配\" value=\"Oracle适配\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!-- <el-form-item label=\"位置\" prop=\"folder\">\r\n              <el-input placeholder=\"请选择文件夹\" v-model=\"newTask.taskLocal\">\r\n                <el-button slot=\"append\" icon=\"el-icon-folder-opened\" @click=\"openFile\"></el-button>\r\n              </el-input>\r\n              <input type=\"file\" ref=\"folderInput\" style=\"display: none\" @change=\"changeFile($event)\" />\r\n            </el-form-item> -->\r\n            <el-form-item label=\"文件位置\">\r\n              <el-upload ref=\"upload\" class=\"upload-demo\" :auto-upload=\"false\" :action=\"uploadUrl\" :data=\"{ taskID: uploadTaskID }\"\r\n                :on-success=\"handleFileSuccess\"\r\n                :on-error=\"handleFileError\"\r\n                :before-upload=\"beforeUpload\"\r\n                :limit=\"1\"\r\n                drag\r\n                multiple\r\n                >\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">将文件拖拽到此处，或<em>点击上传</em></div>\r\n\r\n              </el-upload>\r\n            </el-form-item>\r\n          </el-form>\r\n\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisiblex = false; selectRowId = null; selectTaskId = null\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"addTask\">确 定</el-button>\r\n          </div>\r\n        </el-dialog>\r\n      </el-card>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 30px;\"></div>\r\n    <!-- 任务统计 -->\r\n    <div>\r\n      <h3>任务统计</h3>\r\n      <el-row>\r\n        <el-col :span=\"6\">\r\n        <el-card style=\"height: 120px;background-color: ghostwhite;margin: 0 auto\">\r\n          <div>\r\n            <el-statistic :value=\"allTask\" title=\"全部任务\">\r\n              <template slot=\"formatter\">\r\n\r\n              </template>\r\n            </el-statistic>\r\n          </div>\r\n          </el-card>\r\n        </el-col>\r\n\r\n        <el-col :span=\"6\">\r\n          <el-card style=\"height: 120px;background-color: burlywood;margin: 0 auto\">\r\n          <div>\r\n            <el-statistic :value=\"culing\" title=\"评估中\">\r\n              <template slot=\"formatter\">\r\n\r\n              </template>\r\n            </el-statistic>\r\n          </div>\r\n        </el-card>\r\n        </el-col>\r\n\r\n        <el-col :span=\"6\">\r\n          <el-card style=\"height: 120px;background-color: powderblue; margin: 0 auto\">\r\n          <div>\r\n            <el-statistic :value=\"outed\" title=\"未开始\">\r\n              <template slot=\"formatter\">\r\n\r\n              </template>\r\n            </el-statistic>\r\n          </div>\r\n          </el-card>\r\n        </el-col>\r\n\r\n        <el-col :span=\"6\">\r\n          <el-card style=\"height: 120px;background-color: mintcream;margin: 0 auto\">\r\n          <div>\r\n            <el-statistic :value=\"finished\" title=\"已完成\">\r\n              <template slot=\"formatter\">\r\n\r\n              </template>\r\n            </el-statistic>\r\n          </div>\r\n        </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport day from 'dayjs'\r\nimport { time } from 'echarts';\r\nimport { mapGetters } from 'vuex'\r\nimport { Tooltip } from 'element-ui'\r\nimport { getToken } from '@/utils/auth';\r\n// import Statistic from 'element-ui';\r\n// Vue.use(Statistic)\r\nexport default {\r\n  data() {\r\n    return {\r\n      uploadUrl: \"http://localhost:8000/api/upload\",\r\n      uploadTaskID: 1,\r\n      selectRowId: null,\r\n      selectTaskId: null,\r\n      curRowId: null,\r\n      allTask: 10,\r\n      culing: 5,\r\n      outed: 2,\r\n      finished: 7,\r\n      newSet: {\r\n        folder: \"\"\r\n      },\r\n      queryParam: {\r\n        pagesize: 10,\r\n        pagenum: 1,\r\n      },\r\n      TaskqueryParam: {\r\n        pagesize: 10,\r\n        pagenum: 1,\r\n      },\r\n      pagination: {\r\n        currentPage: 1,\r\n        pageSizeOptions: [5, 10, 20, 30, 40],\r\n        pageSize: 10,\r\n        total: 0,\r\n        showSizeChanger: true,\r\n        showTotal: (total) => `共${total}条`,\r\n      },\r\n      Taskpagination: {\r\n        currentPage: 1,\r\n        pageSizeOptions: [5, 10, 20, 30, 40],\r\n        pageSize: 10,\r\n        total: 0,\r\n        showSizeChanger: true,\r\n        showTotal: (total) => `共${total}条`,\r\n      },\r\n      row: \"\",\r\n      dialogVisible: false,\r\n      dialogVisiblex: false,\r\n      editAffairVisible: false,\r\n\r\n      newAffair: {\r\n        affairName: \"\",\r\n        affairDesc: \"\"\r\n      },\r\n      newAffairForm: {\r\n        affairName: \"\",\r\n      },\r\n      newTask: {\r\n        taskName: \"\",\r\n        taskType: \"\",\r\n        taskLocal: \"\",\r\n        taskStatus: \"未开始\",\r\n      },\r\n      dialogTitle: \"\",\r\n      title: \"\",\r\n      titlex: \"\",\r\n      caseSet: {\r\n\r\n      },\r\n      total: 0,\r\n      total1: 0,\r\n      searchModel: {\r\n        pagesize: 10,\r\n        pagenum: 1,\r\n      },\r\n      affairInfo: {\r\n        affairId: 0,\r\n        affairName: ''\r\n      },\r\n      // 任务集合列表数据\r\n      setList: [],\r\n      taskList: [],\r\n      tableCase: {},\r\n      like: true,\r\n      headers: {\r\n        username: '',\r\n        user_id: 0\r\n      },\r\n\r\n    };\r\n  },\r\n  components: {\r\n    Tooltip,\r\n  },\r\n\r\n  created() {\r\n    this.getSetList()\r\n    this.getTaskList()\r\n    this.getTokenInfo()\r\n    // this.user_id = window.sessionStorage.getItem('user_id')\r\n    // this.headers = {\r\n    //   username: sessionStorage.getItem('username'),\r\n    //   user_id: sessionStorage.getItem('user_id')\r\n    // }\r\n    this.getTaskStatistics()\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getResData: 'data/getResData',  // 获取全局的 resData\r\n      getTaskData: 'task/getTaskData'  // 获取当前任务的画像数据\r\n    })\r\n  },\r\n  methods: {\r\n    getTokenInfo() {\r\n      const token = window.sessionStorage.getItem('token')\r\n      this.$http.get('parse/token', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`, // 将JWT令牌添加到请求头中\r\n          'Content-Type': 'application/json' // 设置请求头为JSON类型\r\n        }\r\n      })\r\n      .then(res => {\r\n        this.headers.username = res.data.username\r\n        this.headers.user_id = res.data.user_id\r\n        console.log(this.headers)\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching data:', error); \r\n      });\r\n    },\r\n    // 任务表格排序\r\n    customSort(column) {\r\n      const prop = column.prop\r\n      const order = column.order\r\n      if (prop === 'taskStatus') {\r\n        this.taskList.sort((a, b) => {\r\n          const statusOrder = {\r\n            '已完成': 1,\r\n            '评估中': 2,\r\n            '未开始': 3\r\n          }\r\n          const aOrder = statusOrder[a.taskStatus]\r\n          const bOrder = statusOrder[b.taskStatus]\r\n          if (order === 'descending') {\r\n            return bOrder - aOrder\r\n          } else {\r\n            return aOrder - bOrder\r\n          }\r\n        })\r\n      } else if (prop === 'CreatedAt') {\r\n        this.taskList.sort((a, b) => {\r\n        const aTime = Date.parse(a.CreatedAt)\r\n        const bTime = Date.parse(b.CreatedAt)\r\n        if (order === 'descending') {\r\n          return bTime - aTime\r\n        } else {\r\n          return aTime - bTime\r\n        }\r\n        })\r\n      }\r\n    },\r\n\r\n    handleFileSuccess(response, file, fileList) {\r\n      console.log(\"文件上传成功\", response);\r\n      // 可以在这里处理上传成功后的逻辑，例如更新界面等\r\n    },\r\n    handleFileError(err) {\r\n      console.error(\"文件上传失败\", err);\r\n      // 可以在这里处理上传失败后的逻辑，例如提示用户重新上传等\r\n    },\r\n    beforeUpload(file) {\r\n      console.log(\"准备上传文件\", file);\r\n      // 可以在这里添加一些上传文件前的验证逻辑，例如文件大小、类型等\r\n      // 返回 false 可以阻止上传\r\n    },\r\n    // 获取任务集列表\r\n    async getSetList() {\r\n      const token = sessionStorage.getItem('token')\r\n      // console.log(\"=====>\", this.headers)\r\n      const { data: res } = await this.$http.get('affairs', {\r\n        params: {\r\n          page_size: this.queryParam.pagesize,\r\n          page_num: this.queryParam.pagenum,\r\n        },\r\n        headers: {\r\n            'Authorization': `Bearer ${token}` // 在请求头中携带 token\r\n        }\r\n      })\r\n      // console.log(\"res===>\", res)\r\n      if (res.status !== 200) {\r\n        this.$message.error(res.message)\r\n      }\r\n\r\n      // console.log(res.data)\r\n      this.setList = res.data\r\n      this.pagination.total = res.total\r\n    },\r\n\r\n    // 获取任务集下的任务列表\r\n    async getTaskList(ID) {\r\n      const { data: res } = await this.$http.get(`task/list/${ID}`, {\r\n        params: { page_size: this.TaskqueryParam.pagesize, page_num: this.TaskqueryParam.pagenum },\r\n      })\r\n      // console.log(res)\r\n      if (res.status !== 200) return this.$message.error(res.message)\r\n      this.taskList = res.data\r\n      this.Taskpagination.total = res.total\r\n      // this.pagination.total = res.total\r\n    },\r\n    // 获取任务状态\r\n    async getTaskStatistics() {\r\n      const token = sessionStorage.getItem('token')\r\n      const res = await this.$http.get('task/statistic', {\r\n        headers: {\r\n              'Authorization': `Bearer ${token}` // 在请求头中携带 token\r\n          }\r\n      })\r\n      // console.log(\"test\")\r\n      // console.log(res)\r\n      if (res.status !== 200) return this.$message.error(res.message)\r\n      this.allTask = res.data.totalCount\r\n      this.culing = res.data.inProgressCount\r\n      this.outed = res.data.notStartedCount\r\n      this.finished = res.data.expiredCount\r\n    },\r\n\r\n    // 只直接显示文件路径中的文件名\r\n    extractFileName(row) {\r\n      const fixedPart = 'D:\\\\GraduationProject\\\\NPU-DatabaseMigration\\\\gin_GraduationProject\\\\web\\\\'\r\n      const fileName = row.taskPath.substring(fixedPart.length)\r\n      return fileName;\r\n    },\r\n\r\n    // 修改日期格式\r\n    formateDate(row, column) {\r\n      let data = row[column.property]\r\n      return data ? day(data).format('YYYY年MM月DD日 HH:mm') : '暂无'\r\n    },\r\n\r\n    // 删除任务集\r\n    deleteSet(id) {\r\n      // console.log(id)\r\n      this.$confirm('提示：请再次确认', '确定要删除该任务集吗？一旦删除，无法恢复', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      })\r\n        .then(async () => {\r\n          try {\r\n            const response = await this.$http.delete(`set/${id}`)\r\n            // console.log(response)\r\n            if (response.status === 200) {\r\n              this.$message.success('删除成功')\r\n              this.getSetList() // 删除成功后刷新用户列表\r\n              this.getTaskStatistics()\r\n              // this.getTaskList()\r\n            } else {\r\n              this.$message.error(response.data.message || '删除失败，请重试')\r\n            }\r\n          } catch (error) {\r\n            this.$message.error('删除失败，请重试')\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.info('已取消删除')\r\n        });\r\n    },\r\n\r\n    // 更改分页\r\n    handleSizeChange(val) {\r\n      this.pagination.pageSize = val\r\n      // console.log(`每页 ${val} 条, pagesize`, this.pagination.pageSize);\r\n      this.queryParam.pagesize = this.pagination.pageSize\r\n      this.getSetList()\r\n      this.getTaskStatistics()\r\n\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pagination.currentPage = val\r\n      // console.log(`当前页: ${val}`, this.pagination.currentPage);\r\n      this.queryParam.pagenum = this.pagination.currentPage\r\n      this.getSetList()\r\n      this.getTaskStatistics()\r\n    },\r\n    // 更改任务分页\r\n    handleTaskSizeChange(val) {\r\n      this.Taskpagination.pageSize = val\r\n      // console.log(`每页 ${val} 条, pagesize`, this.pagination.pageSize);\r\n      this.TaskqueryParam.pagesize = this.Taskpagination.pageSize\r\n      this.getTaskList(this.curRowId)\r\n      this.getTaskStatistics()\r\n    },\r\n    handleTaskCurrentChange(val) {\r\n      this.Taskpagination.currentPage = val\r\n      // console.log(`当前页: ${val}`, this.pagination.currentPage);\r\n      this.TaskqueryParam.pagenum = this.Taskpagination.currentPage\r\n      this.getTaskList(this.curRowId)\r\n      this.getTaskStatistics()\r\n    },\r\n    //删除任务\r\n    deleteTask(id) {\r\n      // console.log(id)\r\n      this.$confirm('提示：请再次确认', '确定要删除该任务吗？一旦删除，无法恢复', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      })\r\n        .then(async () => {\r\n          try {\r\n            const response = await this.$http.delete(`task/${id}`)\r\n            // console.log(response)\r\n            if (response.status === 200) {\r\n              this.$message.success('删除成功')\r\n              this.getTaskList(id) // 删除成功后刷新用户列表\r\n              this.getTaskStatistics()\r\n              // this.getTaskList()\r\n            } else {\r\n              this.$message.error(response.data.message || '删除失败，请重试')\r\n            }\r\n          } catch (error) {\r\n            this.$message.error('删除失败，请重试')\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.info('已取消删除')\r\n        });\r\n    },\r\n\r\n    // 搜索任务集\r\n    async searchAffair() {\r\n      const token = sessionStorage.getItem('token')\r\n      // console.log(\"进入searchaffair函数\")\r\n      this.searchModel.pagenum = 1\r\n      this.pagination.currentPage = 1\r\n      this.searchModel.pagesize = this.pagination.pageSize\r\n      const { data: res } = await this.$http.get('affair/search', {\r\n        params: {\r\n          page_size: this.searchModel.pagesize,\r\n          page_num: this.searchModel.pagenum,\r\n          affair_name: this.searchModel.name,\r\n          // id: sessionStorage.getItem('user_id')\r\n        },\r\n        headers: {\r\n             'Authorization': `Bearer ${token}` // 在请求头中携带 token\r\n        }\r\n      })\r\n\r\n      // console.log(\"aaaa已经得到后端返回的数据：\", res)\r\n      if (res.status !== 200) return this.$message.error(res.message)\r\n      this.setList = res.data\r\n      this.pagination.total = res.total\r\n    },\r\n\r\n    // 编辑任务集合\r\n    async handleEditAffair(id) {\r\n      this.editAffairVisible = true\r\n      const { data: res } = await this.$http.get(`affair/${id}`)\r\n      this.affairInfo = res.data\r\n      this.affairInfo.id = id\r\n    },\r\n    editAffair() {\r\n      this.$refs.editAffairRef.validate(async (valid) => {\r\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\r\n        const { data: res } = await this.$http.put(`affair/${this.affairInfo.id}`, {\r\n          affairName: this.affairInfo.affairName\r\n        })\r\n        if (res.status != 200) return this.$message.error(res.message)\r\n        this.editAffairVisible = false\r\n        this.$message.success('更新任务集信息成功')\r\n        this.getSetList()\r\n      })\r\n    },\r\n\r\n    jumphandelSql() {\r\n      this.$router.push('/test/result')\r\n    },\r\n    jumphandelDl() {\r\n      this.$router.push('/test/reportdl')\r\n    },\r\n\r\n    async beginMatch(id) {\r\n      const res = await this.$http.get(`task/info/${id}`)\r\n      console.log(res.data)\r\n      console.log(\"任务类型为:\", res.data.taskType)\r\n      if (res.data.taskType === \"Oracle SQL画像\"||res.data.taskType === \"MySQL SQL画像\") {\r\n        try {\r\n           const response = await this.$http.get(`sql/draw/${id}`)\r\n           console.log(\"get task:\",response)\r\n        } catch (error) {\r\n          console.error(\"获取sql画像分析结果失败:\", error)\r\n        }\r\n      }\r\n      else{\r\n        try{\r\n          const response = await this.$http.get(`sql/adapt/${id}`)\r\n          console.log(\"Oracle适配的响应\",response)\r\n        }catch (error) {\r\n          console.error(\"获取sql适配分析结果失败:\", error)\r\n        }\r\n        \r\n      }\r\n    },\r\n\r\n    async jumphandelMatch(id) {\r\n      const res = await this.$http.get(`task/info/${id}`)\r\n      console.log(\"任务状态为：\", res.data)\r\n      // const taskData = this.$store.getters['task/getTaskData'](id)\r\n      // this.$router.push('/test/match')\r\n      if(res.data.taskType==\"Oracle SQL画像\"||res.data.taskType==\"MySQL SQL画像\"){\r\n          if (res.data.taskStatus === '已完成') {\r\n            this.$router.push({name: 'result', params: {taskId: id,taskType:res.data.taskType}})\r\n          } else if (res.data.taskStatus === '未开始') {\r\n            return this.$message.error('任务未开始，不可跳转查看结果')\r\n          }\r\n      }else{\r\n          if (res.data.taskStatus === '已完成') {\r\n            this.$router.push({name: 'match', params: {taskId: id}})\r\n          } else if (res.data.taskStatus === '未开始') {\r\n            return this.$message.error('任务未开始，不可跳转查看结果')\r\n          }\r\n      }\r\n\r\n      // 获取当前任务的任务数据\r\n      const taskData = this.$store.getters['task/getTaskData'](id)\r\n      console.log(\"test\",taskData)\r\n      // if (!taskData) {\r\n      if (1) {\r\n        const response = await this.$http.get(`task/result/${id}`)\r\n        const resultData = JSON.parse(response.data.taskResult)\r\n        await this.$store.dispatch('task/setTaskData', { taskId: id, data: resultData})\r\n      }\r\n    },\r\n    // newTask() {\r\n    //   this.$router.push(\"/test/task\");\r\n    // },\r\n    // openFile() {\r\n    //   this.$refs.folderInput.click();\r\n    // },\r\n    // changeFile(e) {\r\n    //   // const folderPath = e.target.files[0].path; // 获取选择的文件夹路径\r\n    //   const file = e.target.files[0]\r\n    //   console.log(\"拿到的文件为：\", file)\r\n    //   this.newTask.taskLocal = file\r\n    //   // this.newSet.folder = folderPath; // 将路径绑定到数据对象中的属性\r\n    // },\r\n    getCasesById(id) {\r\n      this.getCaseList(id);\r\n    },\r\n    addCase() {\r\n      this.dialogTitle = \"添加任务\";\r\n    },\r\n    handleAdd() {\r\n      this.dialogTitle = \"添加业务合\";\r\n      this.caseSet = {\r\n        id: \"\",\r\n        name: \"\",\r\n        path: \"\",\r\n        cases: [],\r\n      };\r\n      this.dialogVisible = true;\r\n    },\r\n    handleAddTask(id) {\r\n      this.dialogTitlex = \"添加任务\";\r\n      this.dialogVisiblex = true;\r\n      this.selectRowId = id;\r\n    },\r\n    handleEditTask(id, affairid) {\r\n      this.title = \"修改任务\";\r\n      // console.log(\"修改任务\")\r\n      // console.log(this.selectRowId)\r\n      // console.log(this.selectTaskId)\r\n      this.dialogVisiblex = true;\r\n      this.selectRowId = affairid;\r\n      this.selectTaskId = id\r\n      // console.log(this.selectRowId)\r\n      // console.log(this.selectTaskId)\r\n    },\r\n\r\n    // 业务合表格行点击事件处理函数\r\n    handleView(row) {\r\n      // console.log(\"检测执行handleview\")\r\n      // console.log(row.ID)\r\n      this.curRowId = row.ID\r\n      this.getTaskList(row.ID)\r\n      this.getTaskStatistics()\r\n    },\r\n    // 选择文件夹按钮点击事件处理函数\r\n    handleSelectFolder() {\r\n      const fu = document.getElementById(\"open\");\r\n      if (fu == null) return;\r\n      this.textarea = fu.files[0].name;\r\n      // console.log(fu.files[0].name);\r\n    },\r\n\r\n    // 关闭添加/编辑业务合对话框前的钩子函数\r\n    handleCloseDialog(done) {\r\n      this.$confirm(\"确认关闭？\")\r\n        .then(() => {\r\n          this.selectRowId = null\r\n          this.selectTaskId = null\r\n          done();\r\n        })\r\n        .catch(() => { });\r\n    },\r\n\r\n    // 确定添加/编辑任务集合对话框按钮点击事件处理函数\r\n    addAffair() {\r\n      this.$refs.addAffairRef.validate(async (valid) => {\r\n        const token = sessionStorage.getItem('token')\r\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\r\n        const { data: res } = await this.$http.post('affair/add', {\r\n          affairName: this.newAffair.affairName,\r\n          affairDesc: this.newAffair.affairDesc,\r\n          // userId: parseInt(sessionStorage.getItem('user_id'), 10)\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}` // 在请求头中携带 token\r\n        }})\r\n        if (res.status != 200) return this.$message.error(res.message)\r\n        this.$refs.addAffairRef.resetFields()\r\n        this.dialogVisible = false\r\n        this.$message.success('添加成功')\r\n        this.getSetList()\r\n        this.getTaskStatistics()\r\n      })\r\n    },\r\n    //添加任务\r\n    addTask() {\r\n      // this.$refs.upload.submit();\r\n      this.$refs.newTaskRef.validate(async (valid) => {\r\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\r\n        if (this.selectTaskId == null) {\r\n          const { data: res } = await this.$http.post('task/add', {\r\n            AffairId: this.selectRowId,\r\n            TaskName: this.newTask.taskName,\r\n            TaskPath: this.newTask.taskLocal,\r\n            TaskType: this.newTask.taskType,\r\n            TaskStatus: this.newTask.taskStatus,\r\n          })\r\n        if (res.status === 200) {\r\n          this.uploadTaskID = res.data.ID\r\n          console.log(\"上传任务ID为：\", this.uploadTaskID)\r\n          await this.$nextTick()\r\n          this.$refs.upload.submit()\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n          \r\n          // if (res.status != 200) return this.$message.error(res.message)\r\n          // this.$nextTick(() => {\r\n          //   if (this.$refs.newTaskRef) {\r\n          //     this.$refs.newTaskRef.resetFields();\r\n          //   }\r\n          // });\r\n          // this.$refs.upload.submit()\r\n          this.$refs.newTaskRef.resetFields();\r\n          this.dialogVisiblex = false\r\n          this.$message.success('添加成功')\r\n          // console.log(this.selectRowId)\r\n          this.getTaskList(this.selectRowId)\r\n          this.getTaskStatistics()\r\n        }\r\n        else {\r\n          const id = this.selectTaskId\r\n          this.selectTaskId = null\r\n          const { data: res } = await this.$http.put(`task/${id}`, {\r\n            AffairId: this.selectRowId,\r\n            TaskName: this.newTask.taskName,\r\n            // TaskPath: this.newTask.taskLocal,\r\n            TaskType: this.newTask.taskType,\r\n            TaskStatus: this.newTask.taskStatus,\r\n          })\r\n\r\n          console.log(\"修改任务\", this.$refs.upload.uploadFiles.length)\r\n          if (this.$refs.upload.uploadFiles.length === 1) {\r\n            this.uploadTaskID = id\r\n            console.log(\"bfdjsj上传任务ID为：\", this.uploadTaskID)\r\n            await this.$nextTick()\r\n            this.$refs.upload.submit()\r\n          }\r\n          // if (res.status != 200) return this.$message.error(res.message)\r\n          // this.$nextTick(() => {\r\n          //   if (this.$refs.newTaskRef) {\r\n\r\n          //   }\r\n          // });\r\n          this.$refs.newTaskRef.resetFields();\r\n          this.dialogVisiblex = false\r\n          this.$message.success('修改成功')\r\n          // console.log(this.selectRowId)\r\n          this.getTaskList(this.selectRowId)\r\n          this.getTaskStatistics()\r\n          this.selectRowId = null\r\n        }\r\n      })\r\n    },\r\n    async downloadResult(id) {\r\n      // window.location.href = `http://localhost:8000/api/download/${id}`\r\n     // 调用接口获取报告数据\r\n     const res = await this.$http.get(`/download/${id}`);\r\n\r\n    if (res.data.status !== 200) {\r\n      this.$message.error(res.data.message)\r\n    } else {\r\n    const taskResult = JSON.parse(res.data.taskResult)\r\n      // 使用获取到的数据动态生成 HTML 内容\r\n    const htmlContent = `\r\n    <html>\r\n      <head>\r\n        <title>${res.data.taskName}</title>\r\n      </head>\r\n    <body>\r\n      <h1>${res.data.taskType}</h1>\r\n      <p>${JSON.stringify(taskResult.DMLDetail)}</p>\r\n    </body>\r\n    </html>\r\n    `;\r\n\r\n    // 创建 blob 对象，并为其设置 MIME 类型为 'text/html'\r\n    const blob = new Blob([htmlContent], { type: 'text/html' });\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    // 创建一个临时的 a 标签用于下载\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'report.html'; // 指定下载的文件名\r\n    document.body.appendChild(link); // 将 a 标签添加到页面中\r\n    link.click(); // 模拟点击 a 标签\r\n    document.body.removeChild(link); // 移除 a 标签\r\n    URL.revokeObjectURL(url); // 释放 URL 对象\r\n    }\r\n    },\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#search .el-input {\r\n  width: 200px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.el-dialog__wrapper {\r\n  z-index: 1000;\r\n}\r\n\r\n.el-table th:last-child .cell {\r\n  text-align: center;\r\n}\r\n\r\n.el-table-column--expand {\r\n  width: 50px !important;\r\n  text-align: center;\r\n}\r\n\r\n.el-button--danger {\r\n  background-color: #ff4d4f;\r\n  border-color: #ff4d4f;\r\n}\r\n\r\n.el-table__expand-icon {\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.el-form-item__label {\r\n  width: 80px;\r\n  text-align: right;\r\n  padding-right: 10px;\r\n}\r\n\r\n.el-button--small {\r\n  padding: 5px 12px;\r\n}\r\n\r\n.like {\r\n  cursor: pointer;\r\n  font-size: 25px;\r\n  display: inline-block;\r\n}\r\n\r\n.button-row {\r\n  display: flex;\r\n  // justify-content: space-around;;\r\n  margin-right: 5px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.upload-demo {\r\n  margin-top: 20px;\r\n}\r\n\r\n</style>\r\n"]}]}