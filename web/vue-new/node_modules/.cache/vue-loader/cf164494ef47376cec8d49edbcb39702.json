{"remainingRequest":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\src\\views\\sqldraw\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\src\\views\\sqldraw\\index.vue","mtime":1709731236652},{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1702824123341},{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\babel-loader\\lib\\index.js","mtime":1702824125233},{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1702824123341},{"path":"D:\\GraduationProject\\NPU-DatabaseMigration\\vue-new\\node_modules\\vue-loader\\lib\\index.js","mtime":1702824125775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgeyBGb3JtIH0gZnJvbSAnZWxlbWVudC11aSc7DQppbXBvcnQgc3FsVGFibGUgZnJvbSAnQC92aWV3cy9zcWx0YWJsZS9pbmRleC52dWUnDQppbXBvcnQgZGRsRHJhdyBmcm9tICdAL3ZpZXdzL2RkbGRyYXcvaW5kZXgudnVlJw0KaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICJlY2hhcnRzIg0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdTcWxJbmRleCcsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHJhZGlvMTogJ+WbvuW9ouWxleekuicsDQogICAgICByYWRpbzI6ICdEREzmlofku7YnLA0KICAgICAgc3FsVGFibGVEYXRhOiBbew0KICAgICAgICBuYW1lOiAndGFibGUnLA0KICAgICAgICBudW06IDEwLA0KICAgICAgICAvLyBvcGVyYXRlOiAn5p+l55yLJw0KICAgICAgfSwgew0KICAgICAgICBuYW1lOiAndmlldycsDQogICAgICAgIG51bTogMjAsDQogICAgICAgIC8vIG9wZXJhdGU6ICfmn6XnnIsnDQogICAgICB9LCB7DQogICAgICAgIG5hbWU6ICd0cmlnZ2VyJywNCiAgICAgICAgbnVtOiAzMCwNCiAgICAgICAgLy8gb3BlcmF0ZTogJ+afpeeciycNCiAgICAgIH1dLA0KICAgICAgZGRsVGFibGVEYXRhOiBbew0KICAgICAgICBuYW1lOiAn5pWw5o2u57G75Z6LJywNCiAgICAgICAgbnVtOiAxMCwNCiAgICAgICAgLy8gb3BlcmF0ZTogJ+afpeeciycNCiAgICAgIH0sIHsNCiAgICAgICAgbmFtZTogJ+e6puadnycsDQogICAgICAgIG51bTogMjAsDQogICAgICAgIC8vIG9wZXJhdGU6ICfmn6XnnIsnDQogICAgICB9LCB7DQogICAgICAgIG5hbWU6ICfntKLlvJUnLA0KICAgICAgICBudW06IDMwLA0KICAgICAgICAvLyBvcGVyYXRlOiAn5p+l55yLJw0KICAgICAgfV0sDQogICAgICAvLyB4RGF0YTogWyJ0YWJsZSIsICJ2aWV3IiwgInRyaWdnZXIiXSwNCiAgICAgIC8vIC8veERhdGE6IFsiTW9uIiwgIlR1ZSIsICJXZWQiLCAiVGh1IiwgIkZyaSIsICJTYXQiLCAiU3VuIl0sIC8v5qiq5Z2Q5qCHDQogICAgICAvLyB5RGF0YTogWzEwLCAyMCwgMzBdLCAvL+aVsOaNrg0KICAgICAgLy8gbXlDaGFydFN0eWxlOiB7IGZsb2F0OiAiY2VudGVyIiwgd2lkdGg6ICIxMDAlIiwgaGVpZ2h0OiAiNDAwcHgiIH0gLy/lm77ooajmoLflvI8NCiAgICB9DQogIH0sDQoNCiAgY3JlYXRlZCgpIHsNCiAgICBjb25zdCB0YXNrSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudGFza0lkDQogICAgY29uc29sZS5sb2coIuS7u+WKoUlE5Li6IiwgdGFza0lkKQ0KICAgIGNvbnN0IHRhc2tEYXRhID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndGFzay9nZXRUYXNrRGF0YSddKHRhc2tJZCkNCiAgICBjb25zb2xlLmxvZygi5ou/5Yiw55qE5pWw5o2u5Li677yaIiwgdGFza0RhdGEpDQogICAgY29uc3QgRE1MU3RhdHMgPSB0YXNrRGF0YS5kYXRhLkRNTFN0YXRzDQogICAgY29uc3QgRERMU3RhdHMgPSB0YXNrRGF0YS5kYXRhLkRETFN0YXRzDQogICAgY29uc3QgRE1MRGF0YSA9IFtdDQogICAgY29uc3QgRERMRGF0YSA9IFtdDQoNCiAgICBmb3IgKHZhciBrZXkgaW4gRE1MU3RhdHMpIHsNCiAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChETUxTdGF0cywga2V5KSkgew0KICAgICAgICB2YXIgdmFsdWUgPSBETUxTdGF0c1trZXldDQogICAgICAgIERNTERhdGEucHVzaCh7bmFtZToga2V5LCBudW06IHZhbHVlfSkNCiAgICAgIH0NCiAgICB9DQogICAgY29uc29sZS5sb2coRE1MRGF0YSkNCiAgICB0aGlzLnNxbFRhYmxlRGF0YSA9IERNTERhdGENCiAgICANCiAgICBmb3IgKHZhciBrZXkgaW4gRERMU3RhdHMpIHsNCiAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChERExTdGF0cywga2V5KSkgew0KICAgICAgICB2YXIgdmFsdWUgPSBERExTdGF0c1trZXldDQogICAgICAgIERETERhdGEucHVzaCh7bmFtZToga2V5LCBudW06IHZhbHVlfSkNCiAgICAgIH0NCiAgICB9DQogICAgY29uc29sZS5sb2coRERMRGF0YSkNCiAgICB0aGlzLmRkbFRhYmxlRGF0YSA9IERETERhdGENCiAgfSwgDQoNCiAgY29tcG9uZW50czogeyBzcWxUYWJsZSwgZGRsRHJhdyB9LA0KDQogIC8vIG1vdW50ZWQoKSB7DQogIC8vICAgdGhpcy5pbml0RWNoYXJ0cygpOw0KICAvLyB9LA0KICBtZXRob2RzOiB7DQogICAgLy8gaW5pdEVjaGFydHMoKSB7DQogICAgLy8gICAvLyDln7rmnKzmn7Hnirblm74NCiAgICAvLyAgIGNvbnN0IG9wdGlvbiA9IHsNCiAgICAvLyAgICAgeEF4aXM6IHsNCiAgICAvLyAgICAgICBkYXRhOiB0aGlzLnhEYXRhDQogICAgLy8gICAgIH0sDQogICAgLy8gICAgIHlBeGlzOiB7fSwNCiAgICAvLyAgICAgc2VyaWVzOiBbDQogICAgLy8gICAgICAgew0KICAgIC8vICAgICAgICAgdHlwZTogImJhciIsIC8v5b2i54q25Li65p+x54q25Zu+DQogICAgLy8gICAgICAgICBkYXRhOiB0aGlzLnlEYXRhLA0KICAgIC8vICAgICAgICAgYmFyTWF4V2lkdGg6ICcyMCUnDQogICAgLy8gICAgICAgfQ0KICAgIC8vICAgICBdDQogICAgLy8gICB9Ow0KICAgIC8vICAgLy8gY29uc3QgbXlDaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibXljaGFydCIpKTsNCiAgICAvLyAgIGNvbnN0IG15Q2hhcnQgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5teWNoYXJ0KQ0KICAgIC8vICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKTsNCiAgICAvLyAgIC8v6ZqP552A5bGP5bmV5aSn5bCP6LCD6IqC5Zu+6KGoDQogICAgLy8gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgKCkgPT4gew0KICAgIC8vICAgICBteUNoYXJ0LnJlc2l6ZSgpOw0KICAgIC8vICAgfSk7DQogICAgLy8gfSwNCiAgICBzaG93RGV0YWlscyhlKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJyZXNEYXRhPT09PT4iLCByZXNEYXRhKCkpDQogICAgICAgIC8vIGNvbnNvbGUubG9nKGUubmFtZSkNCiAgICAgICAgLy8gY29uc29sZS5sb2coZS5udW0pDQogICAgICAgIHRoaXMuJGFsZXJ0KCflhbfkvZPmlbDph4/kuLonK2UubnVtLCBlLm5hbWUrJ+eahOivpuaDhScsIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgLy8gY2FsbGJhY2s6IGFjdGlvbiA9PiB7DQogICAgICAgICAgLy8gICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAvLyAgICAgdHlwZTogJ2luZm8nLA0KICAgICAgICAgIC8vICAgICBtZXNzYWdlOiBgYWN0aW9uOiAkeyBhY3Rpb24gfWANCiAgICAgICAgICAvLyAgIH0pOw0KICAgICAgICAgIC8vIH0NCiAgICAgICAgfSk7DQogICAgfQ0KICAgIH0NCiAgfQ0KICANCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/sqldraw","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <h2>sql画像</h2>\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n      <div class=\"r1\">\r\n        <el-radio-group v-model=\"radio2\">\r\n          <el-radio-button label=\"DDL文件\"></el-radio-button>\r\n          <el-radio-button label=\"DML文件\"></el-radio-button>\r\n        </el-radio-group>\r\n      </div>\r\n\r\n      <div class=\"r2\">\r\n        <el-radio-group v-model=\"radio1\">\r\n          <el-radio-button label=\"图形展示\"></el-radio-button>\r\n          <el-radio-button label=\"表格展示\"></el-radio-button>\r\n        </el-radio-group>\r\n      </div>\r\n    </div>\r\n\r\n    <div style=\"margin-bottom: 40px;\"></div>\r\n    <div v-if=\"radio1 === '表格展示' && radio2 === 'DML文件'\">\r\n      <el-table :data=\"sqlTableData\" border style=\"width: 100%\">\r\n        <el-table-column prop=\"name\" label=\"名称\" width=\"250\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"num\" label=\"数量\" width=\"250\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"operate\" label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"showDetails(scope.row)\">查看详情</el-button>\r\n        </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-pagination background layout=\"prev, pager, next\" :total=\"100\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <div v-else-if=\"radio1 === '表格展示' && radio2 === 'DDL文件'\">\r\n      <el-table :data=\"ddlTableData\" border style=\"width: 100%\">\r\n        <el-table-column prop=\"name\" label=\"名称\" width=\"250\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"num\" label=\"数量\" width=\"250\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"operate\" label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"showDetails(scope.row)\">查看详情</el-button>\r\n        </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-pagination background layout=\"prev, pager, next\" :total=\"100\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <div v-else-if=\"radio1 === '图形展示' && radio2 === 'DML文件'\">\r\n      <sqlTable></sqlTable>\r\n      <!-- <div class=\"echart\" ref=\"mychart\" id=\"mychart\" :style=\"myChartStyle\"></div> -->\r\n    </div>\r\n\r\n    <div v-else>\r\n      <!-- <h1>jjjjj</h1> -->\r\n      <ddlDraw></ddlDraw>\r\n      <!-- <div class=\"echart\" id=\"mychart\" :style=\"myChartStyle\"></div> -->\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\n// import { Form } from 'element-ui';\r\nimport sqlTable from '@/views/sqltable/index.vue'\r\nimport ddlDraw from '@/views/ddldraw/index.vue'\r\nimport * as echarts from \"echarts\"\r\n\r\nexport default {\r\n  name: 'SqlIndex',\r\n  data() {\r\n    return {\r\n      radio1: '图形展示',\r\n      radio2: 'DDL文件',\r\n      sqlTableData: [{\r\n        name: 'table',\r\n        num: 10,\r\n        // operate: '查看'\r\n      }, {\r\n        name: 'view',\r\n        num: 20,\r\n        // operate: '查看'\r\n      }, {\r\n        name: 'trigger',\r\n        num: 30,\r\n        // operate: '查看'\r\n      }],\r\n      ddlTableData: [{\r\n        name: '数据类型',\r\n        num: 10,\r\n        // operate: '查看'\r\n      }, {\r\n        name: '约束',\r\n        num: 20,\r\n        // operate: '查看'\r\n      }, {\r\n        name: '索引',\r\n        num: 30,\r\n        // operate: '查看'\r\n      }],\r\n      // xData: [\"table\", \"view\", \"trigger\"],\r\n      // //xData: [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"], //横坐标\r\n      // yData: [10, 20, 30], //数据\r\n      // myChartStyle: { float: \"center\", width: \"100%\", height: \"400px\" } //图表样式\r\n    }\r\n  },\r\n\r\n  created() {\r\n    const taskId = this.$route.params.taskId\r\n    console.log(\"任务ID为\", taskId)\r\n    const taskData = this.$store.getters['task/getTaskData'](taskId)\r\n    console.log(\"拿到的数据为：\", taskData)\r\n    const DMLStats = taskData.data.DMLStats\r\n    const DDLStats = taskData.data.DDLStats\r\n    const DMLData = []\r\n    const DDLData = []\r\n\r\n    for (var key in DMLStats) {\r\n      if (Object.hasOwnProperty.call(DMLStats, key)) {\r\n        var value = DMLStats[key]\r\n        DMLData.push({name: key, num: value})\r\n      }\r\n    }\r\n    console.log(DMLData)\r\n    this.sqlTableData = DMLData\r\n    \r\n    for (var key in DDLStats) {\r\n      if (Object.hasOwnProperty.call(DDLStats, key)) {\r\n        var value = DDLStats[key]\r\n        DDLData.push({name: key, num: value})\r\n      }\r\n    }\r\n    console.log(DDLData)\r\n    this.ddlTableData = DDLData\r\n  }, \r\n\r\n  components: { sqlTable, ddlDraw },\r\n\r\n  // mounted() {\r\n  //   this.initEcharts();\r\n  // },\r\n  methods: {\r\n    // initEcharts() {\r\n    //   // 基本柱状图\r\n    //   const option = {\r\n    //     xAxis: {\r\n    //       data: this.xData\r\n    //     },\r\n    //     yAxis: {},\r\n    //     series: [\r\n    //       {\r\n    //         type: \"bar\", //形状为柱状图\r\n    //         data: this.yData,\r\n    //         barMaxWidth: '20%'\r\n    //       }\r\n    //     ]\r\n    //   };\r\n    //   // const myChart = echarts.init(document.getElementById(\"mychart\"));\r\n    //   const myChart = echarts.init(this.$refs.mychart)\r\n    //   myChart.setOption(option);\r\n    //   //随着屏幕大小调节图表\r\n    //   window.addEventListener(\"resize\", () => {\r\n    //     myChart.resize();\r\n    //   });\r\n    // },\r\n    showDetails(e) {\r\n        // console.log(\"resData====>\", resData())\r\n        // console.log(e.name)\r\n        // console.log(e.num)\r\n        this.$alert('具体数量为'+e.num, e.name+'的详情', {\r\n          confirmButtonText: '确定',\r\n          // callback: action => {\r\n          //   this.$message({\r\n          //     type: 'info',\r\n          //     message: `action: ${ action }`\r\n          //   });\r\n          // }\r\n        });\r\n    }\r\n    }\r\n  }\r\n  \r\n</script>\r\n\r\n<style>\r\n.container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n/* .r1 .r2{\r\n  background-color: aliceblue;\r\n} */\r\n</style>\r\n"]}]}